{% extends "base.html" %}

{% block title %}Home - MySite{% endblock %}

{% block header %}Welcome to MySite{% endblock %}

{% block content %}
<div x-data="updateAndGenerate">
    <div style="display: flex;">
        <div style="flex: 1;">
            <form @submit.prevent="uploadImage" id="upload-form" action="{{ url_for('main.upload_and_generate') }}"
                method="post" enctype="multipart/form-data">
                <input type="file" name="file">
                <input type="submit" value="Upload">
            </form>
        </div>
        <div style="flex: 1;">
            <div x-show="isUploading" class="loading">Uploading...</div>
            <div x-show="pageUrl">
                <a :href="pageUrl" target="_blank">Open in New Tab</a>
                <iframe :src="pageUrl" style="width: 100%; height: 400px; border: none; margin-top: 10px;"></iframe>
            </div>
        </div>
    </div>
</div>
</div>

{% endblock %}